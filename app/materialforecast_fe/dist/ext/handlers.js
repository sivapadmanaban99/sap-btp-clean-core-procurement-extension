sap.ui.define(["sap/m/MessageBox","sap/m/MessageToast"],function(t,e){"use strict";return{_getSelectedMatPlant:function(t){return t.map(function(t){const e=t.getObject();return{Material:e.Material,Plant:e.Plant}})},onSuggestPR:function(n,s){try{const o=s||[];if(!o.length){return e.show("Select at least one row")}const a=o.filter(function(t){return t.getObject().RiskFlag==="HIGH"});if(a.length===0){return e.show("Please select items with HIGH risk flag")}const r=n?n.getModel():o[0].getModel();const c=a.map(function(t){const e=t.getObject();return{Material:e.Material,Plant:e.Plant}});const i=r.bindContext("/SuggestPR(...)");i.setParameter("items",c);i.execute().then(function(){const e=i.getBoundContext().getObject();const n=(e?.value??[]).map(t=>`${t.Material}/${t.Plant} â†’ ${t.PRDraftID||"-"}`).join("\n");t.success(`PR suggestions:\n\n${n}`)}).catch(function(t){e.show("Error: "+t.message)})}catch(t){e.show("Error: "+t.message)}},onRunForecast:function(t,n){try{const s=n||[];if(!s.length){return e.show("Select at least one row")}const o=t?t.getModel():s[0].getModel();const a=s.map(function(t){const e=t.getObject();return{Material:e.Material,Plant:e.Plant}});const r=o.bindContext("/RunForecast(...)");r.setParameter("items",a);r.execute().then(function(){e.show("Forecast updated");o.refresh()}).catch(function(t){e.show("Error: "+t.message)})}catch(t){e.show("Error: "+t.message)}}}});
//# sourceMappingURL=handlers.js.map